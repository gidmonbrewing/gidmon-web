<h2>Brewing Session: {{#link-to "recipe" model.session.recipe.id}}{{model.session.recipe.beer.name}}{{/link-to}} {{format-date model.session.date}}{{if hasUnsavedChanges "*" ""}}</h2>
<p>Brewing System: {{#power-select options=model.brewingSystems selected=model.session.brewingSystem onchange=(action (mut model.session.brewingSystem)) as |system|}}
	{{system.name}}
{{/power-select}}</p>
<p>Pre Boil Volume: {{model.session.recipe.preBoilVolume}} l</p>
<p>Session Pre Boil Volume: {{input type="number" value=model.session.preBoilVolume}} l (Scaling: {{format-number model.session.recipeScaling 2}})</p>
<p>Cold Pre Boil Volume: {{model.session.recipe.preBoilVolumeCold}} l</p>
<h3>Mashing</h3>
<p>Malt:</p>
<ul>
	{{#each model.session.scaledMashIngredients as |item|}}
	<li>{{item.entry.ingredient.name}}: {{format-number item.weight 2}} kg, Extract: {{format-number item.entry.ingredient.extractYield 3}} ({{item.entry.amount}}%)</li>
	{{/each}}
</ul>
<p>Total Malt Weight: {{format-number model.session.totalMaltWeight 2}} kg</p>
<p>Water/Malt Ratio: {{format-number model.session.recipe.waterToMaltRatio 2}}</p>
<p>Average Extract Yield: {{format-number model.session.recipe.averageExtractYield 3}}</p>
<p>Water Absorbed By Malt: {{format-number model.session.absorbedByMalt 2}} l</p>
<p>Mashing Temp: {{model.session.recipe.mashingTemp}} &deg;C</p>
<p>Mashing Time: {{model.session.recipe.mashingTime}} min</p>
<p>Mash Out Temp: {{model.session.recipe.mashOutTemp}} &deg;C</p>
<p>Mash Out Time: {{model.session.recipe.mashOutTime}} min</p>
<p>Strike Water Volume: {{format-number model.session.strikeWaterVolume 1}} l</p>
<p>Strike Water Temp: {{format-number model.session.recipe.strikeWaterTemp 1}} &deg;C</p>
<p>Max First Wort SG: {{format-number model.session.recipe.maxFirstWortSG 3}}</p>
<p>Estimated First Wort SG: {{format-number model.recipe.firstWortSG 3}} (Estimated CE: 95%)</p>
<h3>Lautering</h3>
<p>Sparge Water Volume: {{model.recipe.spargeWaterVolume}} l</p>
<p>Estimated Lauter Efficiency: {{format-number model.recipe.lauterEfficiency 1}}%</p>
<p>Estimated Brewhouse Efficienct: {{format-number model.recipe.brewhouseEfficiency 1}}%</p>
<p>Pre Boil SG: {{format-number model.recipe.preBoilSG 3}}</p>
<h3>Boiling</h3>
<p>Post Boil Volume (Cold): {{format-number model.recipe.postBoilVolumeCold 1}} (Estimate 10% boil off per hour)</p>
<p>Boil Time: {{input type="number" value=model.recipe.boilTime}} mins</p>
<p>Boil Ingredients:</p>
<ul>
	{{#each model.recipe.boilEntries as |entry|}}
	<li>{{entry.ingredient.name}}: {{entry.amount}} g, Alpha: {{entry.ingredient.alpha}}%, Add Time: {{entry.addTime}} min, IBU: {{format-number entry.IBU 1}}</li>
	{{/each}}
</ul>
<p>OG: {{format-number model.recipe.OG 3}}</p>
<p>IBU: {{format-number model.recipe.IBU 1}}</p>
<h3>Fermentation</h3>
<p>Final Volume: {{format-number model.recipe.finalVolume 1}} (Estimated 2 litres loss)</p>
<p>
	Yeast: {{#power-select options=model.yeasts selected=model.recipe.yeast onchange=(action (mut model.recipe.yeast)) as |yeast|}}
	{{yeast.name}} (Attenuation: {{yeast.attenuation}}%, {{yeast.cellConcentration}} billion cells/g)
	{{/power-select}}
</p>
<p>Temperature: {{input type="number" value=model.recipe.primaryFermentationTemp}} &deg;C</p>
<p>Time: {{input type="number" value=model.recipe.primaryFermentationTime}} days</p>
<p>Yeast Cells Needed: {{format-number model.recipe.yeastCellsNeeded 2}} billion</p>
<p>Yeast Needed: {{format-number model.recipe.yeastNeeded 2}} g</p>
<p>FG: {{format-number model.recipe.FG 3}}</p>
<button {{action "saveModel"}}>Save</button>
<hr />
<h3>Sessions</h3>
<ul>
	{{#each model.recipe.sessions as |session|}}
	<li>{{session.date}}</li>
	{{/each}}
</ul>